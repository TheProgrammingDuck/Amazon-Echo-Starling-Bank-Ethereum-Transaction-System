(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(['module', './entities/customer', './entities/account', './entities/address', './entities/transaction', './entities/card', './entities/oauth', './entities/contact', './entities/payment', './entities/mandate', './entities/savingsGoals', './entities/whoAmI'], factory);
  } else if (typeof exports !== "undefined") {
    factory(module, require('./entities/customer'), require('./entities/account'), require('./entities/address'), require('./entities/transaction'), require('./entities/card'), require('./entities/oauth'), require('./entities/contact'), require('./entities/payment'), require('./entities/mandate'), require('./entities/savingsGoals'), require('./entities/whoAmI'));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod, global.customer, global.account, global.address, global.transaction, global.card, global.oauth, global.contact, global.payment, global.mandate, global.savingsGoals, global.whoAmI);
    global.starling = mod.exports;
  }
})(this, function (module, _customer, _account, _address, _transaction, _card, _oauth, _contact, _payment, _mandate, _savingsGoals, _whoAmI) {
  'use strict';

  var _customer2 = _interopRequireDefault(_customer);

  var _account2 = _interopRequireDefault(_account);

  var _address2 = _interopRequireDefault(_address);

  var _transaction2 = _interopRequireDefault(_transaction);

  var _card2 = _interopRequireDefault(_card);

  var _oauth2 = _interopRequireDefault(_oauth);

  var _contact2 = _interopRequireDefault(_contact);

  var _payment2 = _interopRequireDefault(_payment);

  var _mandate2 = _interopRequireDefault(_mandate);

  var _savingsGoals2 = _interopRequireDefault(_savingsGoals);

  var _whoAmI2 = _interopRequireDefault(_whoAmI);

  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
      default: obj
    };
  }

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var _createClass = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }

    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();

  var Starling = function () {

    /**
     * Create an instance of the starling client
     * @param {Object=} options - configuration parameters
     */
    function Starling(options) {
      _classCallCheck(this, Starling);

      var defaults = {
        apiUrl: 'https://api.starlingbank.com',
        oauthUrl: 'https://oauth.starlingbank.com',
        clientId: '',
        clientSecret: ''
      };

      this.config = Object.assign({}, defaults, options);

      this.whoAmI = new _whoAmI2.default(this.config);
      this.customer = new _customer2.default(this.config);
      this.account = new _account2.default(this.config);
      this.address = new _address2.default(this.config);
      this.transaction = new _transaction2.default(this.config);
      this.payment = new _payment2.default(this.config);
      this.mandate = new _mandate2.default(this.config);
      this.contact = new _contact2.default(this.config);
      this.card = new _card2.default(this.config);
      this.savingsGoals = new _savingsGoals2.default(this.config);
      this.oAuth = new _oauth2.default(this.config);
    }

    /**
     * Gets the customer UUID and permissions corresponding to the access token passed
     * @param {string=} accessToken - the oauth bearer token.  If not
     * specified, the accessToken on the options object is used.
     * @return {Promise} - the http request promise
     */


    _createClass(Starling, [{
      key: 'getMe',
      value: function getMe() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.whoAmI.getMe(accessToken);
      }
    }, {
      key: 'getCustomer',
      value: function getCustomer() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.customer.getCustomer(accessToken);
      }
    }, {
      key: 'getAccount',
      value: function getAccount() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.account.getAccount(accessToken);
      }
    }, {
      key: 'getBalance',
      value: function getBalance() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.account.getBalance(accessToken);
      }
    }, {
      key: 'getAddresses',
      value: function getAddresses() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.address.getAddresses(accessToken);
      }
    }, {
      key: 'getTransactions',
      value: function getTransactions() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;
        var fromDate = arguments[1];
        var toDate = arguments[2];
        var source = arguments[3];

        return this.transaction.getTransactions(accessToken, fromDate, toDate, source);
      }
    }, {
      key: 'getTransaction',
      value: function getTransaction() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;
        var transactionId = arguments[1];
        var source = arguments[2];

        return this.transaction.getTransaction(accessToken, transactionId, source);
      }
    }, {
      key: 'listMandates',
      value: function listMandates() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.mandate.listMandates(accessToken);
      }
    }, {
      key: 'deleteMandate',
      value: function deleteMandate() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;
        var mandateId = arguments[1];

        return this.mandate.deleteMandate(accessToken, mandateId);
      }
    }, {
      key: 'listScheduledPayments',
      value: function listScheduledPayments() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.payment.listScheduledPayments(accessToken);
      }
    }, {
      key: 'makeLocalPayment',
      value: function makeLocalPayment() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;
        var destinationAccountUid = arguments[1];
        var reference = arguments[2];
        var amount = arguments[3];
        var currency = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'GBP';

        return this.payment.makeLocalPayment(accessToken, destinationAccountUid, reference, amount, currency);
      }
    }, {
      key: 'getContacts',
      value: function getContacts() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.contact.getContacts(accessToken);
      }
    }, {
      key: 'getContactAccount',
      value: function getContactAccount() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;
        var contactId = arguments[1];

        return this.contact.getContactAccount(accessToken, contactId);
      }
    }, {
      key: 'createContact',
      value: function createContact() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;
        var name = arguments[1];
        var accountType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'UK_ACCOUNT_AND_SORT_CODE';
        var accountNumber = arguments[3];
        var sortCode = arguments[4];
        var customerId = arguments[5];

        return this.contact.createContact(accessToken, name, accountType, accountNumber, sortCode, customerId);
      }
    }, {
      key: 'deleteContact',
      value: function deleteContact(accessToken, contactId) {
        return this.contact.deleteContact(accessToken, contactId);
      }
    }, {
      key: 'listSavingsGoals',
      value: function listSavingsGoals() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.savingsGoals.listSavingsGoals(accessToken);
      }
    }, {
      key: 'getSavingsGoal',
      value: function getSavingsGoal() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;
        var savingsGoalId = arguments[1];

        return this.savingsGoals.getSavingsGoal(accessToken, savingsGoalId);
      }
    }, {
      key: 'createSavingsGoal',
      value: function createSavingsGoal() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;
        var savingsGoalId = arguments[1];
        var name = arguments[2];
        var currency = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'GBP';
        var targetAmount = arguments[4];
        var targetCurrency = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'GBP';
        var base64EncodedPhoto = arguments[6];

        return this.savingsGoals.createSavingsGoal(accessToken, savingsGoalId, name, currency, targetAmount, targetCurrency, base64EncodedPhoto);
      }
    }, {
      key: 'deleteSavingsGoal',
      value: function deleteSavingsGoal(accessToken, savingsGoalId) {
        return this.savingsGoals.deleteSavingsGoal(accessToken, savingsGoalId);
      }
    }, {
      key: 'getCard',
      value: function getCard() {
        var accessToken = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.accessToken;

        return this.card.getCard(accessToken);
      }
    }, {
      key: 'getAccessToken',
      value: function getAccessToken(authorizationCode) {
        return this.oAuth.getAccessToken(authorizationCode);
      }
    }, {
      key: 'refreshAccessToken',
      value: function refreshAccessToken(refreshToken) {
        return this.oAuth.refreshAccessToken(refreshToken);
      }
    }]);

    return Starling;
  }();

  module.exports = Starling;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXJsaW5nLmpzIl0sIm5hbWVzIjpbIlN0YXJsaW5nIiwib3B0aW9ucyIsImRlZmF1bHRzIiwiYXBpVXJsIiwib2F1dGhVcmwiLCJjbGllbnRJZCIsImNsaWVudFNlY3JldCIsImNvbmZpZyIsIk9iamVjdCIsImFzc2lnbiIsIndob0FtSSIsImN1c3RvbWVyIiwiYWNjb3VudCIsImFkZHJlc3MiLCJ0cmFuc2FjdGlvbiIsInBheW1lbnQiLCJtYW5kYXRlIiwiY29udGFjdCIsImNhcmQiLCJzYXZpbmdzR29hbHMiLCJvQXV0aCIsImFjY2Vzc1Rva2VuIiwiZ2V0TWUiLCJnZXRDdXN0b21lciIsImdldEFjY291bnQiLCJnZXRCYWxhbmNlIiwiZ2V0QWRkcmVzc2VzIiwiZnJvbURhdGUiLCJ0b0RhdGUiLCJzb3VyY2UiLCJnZXRUcmFuc2FjdGlvbnMiLCJ0cmFuc2FjdGlvbklkIiwiZ2V0VHJhbnNhY3Rpb24iLCJsaXN0TWFuZGF0ZXMiLCJtYW5kYXRlSWQiLCJkZWxldGVNYW5kYXRlIiwibGlzdFNjaGVkdWxlZFBheW1lbnRzIiwiZGVzdGluYXRpb25BY2NvdW50VWlkIiwicmVmZXJlbmNlIiwiYW1vdW50IiwiY3VycmVuY3kiLCJtYWtlTG9jYWxQYXltZW50IiwiZ2V0Q29udGFjdHMiLCJjb250YWN0SWQiLCJnZXRDb250YWN0QWNjb3VudCIsIm5hbWUiLCJhY2NvdW50VHlwZSIsImFjY291bnROdW1iZXIiLCJzb3J0Q29kZSIsImN1c3RvbWVySWQiLCJjcmVhdGVDb250YWN0IiwiZGVsZXRlQ29udGFjdCIsImxpc3RTYXZpbmdzR29hbHMiLCJzYXZpbmdzR29hbElkIiwiZ2V0U2F2aW5nc0dvYWwiLCJ0YXJnZXRBbW91bnQiLCJ0YXJnZXRDdXJyZW5jeSIsImJhc2U2NEVuY29kZWRQaG90byIsImNyZWF0ZVNhdmluZ3NHb2FsIiwiZGVsZXRlU2F2aW5nc0dvYWwiLCJnZXRDYXJkIiwiYXV0aG9yaXphdGlvbkNvZGUiLCJnZXRBY2Nlc3NUb2tlbiIsInJl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cEMsRUFBaURnQyxhQUFqRCxFQUFnRVIsSUFBaEUsRUFBc0VMLFFBQXRFLEVBQWlGZSxZQUFqRixFQUErRkMsY0FBL0YsRUFBK0dDLGtCQUEvRyxDQUFQO0FBQ0Q7Ozt3Q0FRa0JwQyxXLEVBQWFnQyxhLEVBQWU7QUFDN0MsZUFBTyxLQUFLbEMsWUFBTCxDQUFrQndDLGlCQUFsQixDQUFvQ3RDLFdBQXBDLEVBQWlEZ0MsYUFBakQsQ0FBUDtBQUNEOzs7Z0NBUStDO0FBQUEsWUFBdkNoQyxXQUF1Qyx1RUFBekIsS0FBS2QsTUFBTCxDQUFZYyxXQUFhOztBQUM5QyxlQUFPLEtBQUtILElBQUwsQ0FBVTBDLE9BQVYsQ0FBa0J2QyxXQUFsQixDQUFQO0FBQ0Q7OztxQ0FRZXdDLGlCLEVBQW1CO0FBQ2pDLGVBQU8sS0FBS3pDLEtBQUwsQ0FBVzBDLGNBQVgsQ0FBMEJELGlCQUExQixDQUFQO0FBQ0Q7Ozt5Q0FRbUJFLFksRUFBYztBQUNoQyxlQUFPLEtBQUszQyxLQUFMLENBQVc0QyxrQkFBWCxDQUE4QkQsWUFBOUIsQ0FBUDtBQUNEOzs7Ozs7QUFHSEUsU0FBT0MsT0FBUCxHQUFpQmxFLFFBQWpCIiwiZmlsZSI6InN0YXJsaW5nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEN1c3RvbWVyIGZyb20gJy4vZW50aXRpZXMvY3VzdG9tZXInO1xuaW1wb3J0IEFjY291bnQgZnJvbSAnLi9lbnRpdGllcy9hY2NvdW50JztcbmltcG9ydCBBZGRyZXNzIGZyb20gJy4vZW50aXRpZXMvYWRkcmVzcyc7XG5pbXBvcnQgVHJhbnNhY3Rpb24gZnJvbSAnLi9lbnRpdGllcy90cmFuc2FjdGlvbic7XG5pbXBvcnQgQ2FyZCBmcm9tICcuL2VudGl0aWVzL2NhcmQnO1xuaW1wb3J0IE9BdXRoIGZyb20gJy4vZW50aXRpZXMvb2F1dGgnO1xuaW1wb3J0IENvbnRhY3QgZnJvbSAnLi9lbnRpdGllcy9jb250YWN0JztcbmltcG9ydCBQYXltZW50IGZyb20gJy4vZW50aXRpZXMvcGF5bWVudCc7XG5pbXBvcnQgTWFuZGF0ZSBmcm9tICcuL2VudGl0aWVzL21hbmRhdGUnO1xuaW1wb3J0IFNhdmluZ3NHb2FscyBmcm9tICcuL2VudGl0aWVzL3NhdmluZ3NHb2Fscyc7XG5pbXBvcnQgV2hvQW1JIGZyb20gJy4vZW50aXRpZXMvd2hvQW1JJztcblxuLyoqXG4gKiBGYWNhZGUgdG8gZGlzcGF0Y2ggb3BlcmF0aW9ucyB0byBzZXJ2aWNlc1xuICovXG5jbGFzcyBTdGFybGluZyB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgc3RhcmxpbmcgY2xpZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyAtIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyc1xuICAgKi9cbiAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgIGFwaVVybDogJ2h0dHBzOi8vYXBpLnN0YXJsaW5nYmFuay5jb20nLFxuICAgICAgb2F1dGhVcmw6ICdodHRwczovL29hdXRoLnN0YXJsaW5nYmFuay5jb20nLFxuICAgICAgY2xpZW50SWQ6ICcnLFxuICAgICAgY2xpZW50U2VjcmV0OiAnJ1xuICAgIH07XG5cbiAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgIHRoaXMud2hvQW1JID0gbmV3IFdob0FtSSh0aGlzLmNvbmZpZyk7XG4gICAgdGhpcy5jdXN0b21lciA9IG5ldyBDdXN0b21lcih0aGlzLmNvbmZpZyk7XG4gICAgdGhpcy5hY2NvdW50ID0gbmV3IEFjY291bnQodGhpcy5jb25maWcpO1xuICAgIHRoaXMuYWRkcmVzcyA9IG5ldyBBZGRyZXNzKHRoaXMuY29uZmlnKTtcbiAgICB0aGlzLnRyYW5zYWN0aW9uID0gbmV3IFRyYW5zYWN0aW9uKHRoaXMuY29uZmlnKTtcbiAgICB0aGlzLnBheW1lbnQgPSBuZXcgUGF5bWVudCh0aGlzLmNvbmZpZyk7XG4gICAgdGhpcy5tYW5kYXRlID0gbmV3IE1hbmRhdGUodGhpcy5jb25maWcpO1xuICAgIHRoaXMuY29udGFjdCA9IG5ldyBDb250YWN0KHRoaXMuY29uZmlnKTtcbiAgICB0aGlzLmNhcmQgPSBuZXcgQ2FyZCh0aGlzLmNvbmZpZyk7XG4gICAgdGhpcy5zYXZpbmdzR29hbHMgPSBuZXcgU2F2aW5nc0dvYWxzKHRoaXMuY29uZmlnKTtcbiAgICB0aGlzLm9BdXRoID0gbmV3IE9BdXRoKHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXN0b21lciBVVUlEIGFuZCBwZXJtaXNzaW9ucyBjb3JyZXNwb25kaW5nIHRvIHRoZSBhY2Nlc3MgdG9rZW4gcGFzc2VkXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gYWNjZXNzVG9rZW4gLSB0aGUgb2F1dGggYmVhcmVyIHRva2VuLiAgSWYgbm90XG4gICAqIHNwZWNpZmllZCwgdGhlIGFjY2Vzc1Rva2VuIG9uIHRoZSBvcHRpb25zIG9iamVjdCBpcyB1c2VkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBodHRwIHJlcXVlc3QgcHJvbWlzZVxuICAgKi9cbiAgZ2V0TWUgKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy53aG9BbUkuZ2V0TWUoYWNjZXNzVG9rZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1c3RvbWVyJ3MgZGV0YWlsc1xuICAgKiBAcGFyYW0ge3N0cmluZz19IGFjY2Vzc1Rva2VuIC0gdGhlIG9hdXRoIGJlYXJlciB0b2tlbi4gSWYgbm90XG4gICAqIHNwZWNpZmllZCwgdGhlIGFjY2Vzc1Rva2VuIG9uIHRoZSBvcHRpb25zIG9iamVjdCBpcyB1c2VkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBodHRwIHJlcXVlc3QgcHJvbWlzZVxuICAgKi9cbiAgZ2V0Q3VzdG9tZXIgKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5jdXN0b21lci5nZXRDdXN0b21lcihhY2Nlc3NUb2tlbik7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VzdG9tZXIncyBhY2NvdW50IGRldGFpbHNcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBhY2Nlc3NUb2tlbiAtIHRoZSBvYXV0aCBiZWFyZXIgdG9rZW4uICBJZiBub3RcbiAgICogc3BlY2lmaWVkLCB0aGUgYWNjZXNzVG9rZW4gb24gdGhlIG9wdGlvbnMgb2JqZWN0IGlzIHVzZWQuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIGh0dHAgcmVxdWVzdCBwcm9taXNlXG4gICAqL1xuICBnZXRBY2NvdW50IChhY2Nlc3NUb2tlbiA9IHRoaXMuY29uZmlnLmFjY2Vzc1Rva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMuYWNjb3VudC5nZXRBY2NvdW50KGFjY2Vzc1Rva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXN0b21lcidzIGJhbGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBhY2Nlc3NUb2tlbiAtIHRoZSBvYXV0aCBiZWFyZXIgdG9rZW4uICBJZiBub3RcbiAgICogc3BlY2lmaWVkLCB0aGUgYWNjZXNzVG9rZW4gb24gdGhlIG9wdGlvbnMgb2JqZWN0IGlzIHVzZWQuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIGh0dHAgcmVxdWVzdCBwcm9taXNlXG4gICAqL1xuICBnZXRCYWxhbmNlIChhY2Nlc3NUb2tlbiA9IHRoaXMuY29uZmlnLmFjY2Vzc1Rva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMuYWNjb3VudC5nZXRCYWxhbmNlKGFjY2Vzc1Rva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXN0b21lcidzIGFkZHJlc3NlcyAoY3VycmVudCBhbmQgcHJldmlvdXMpXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gYWNjZXNzVG9rZW4gLSB0aGUgb2F1dGggYmVhcmVyIHRva2VuLiAgSWYgbm90XG4gICAqIHNwZWNpZmllZCwgdGhlIGFjY2Vzc1Rva2VuIG9uIHRoZSBvcHRpb25zIG9iamVjdCBpcyB1c2VkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBodHRwIHJlcXVlc3QgcHJvbWlzZVxuICAgKi9cbiAgZ2V0QWRkcmVzc2VzIChhY2Nlc3NUb2tlbiA9IHRoaXMuY29uZmlnLmFjY2Vzc1Rva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkcmVzcy5nZXRBZGRyZXNzZXMoYWNjZXNzVG9rZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1c3RvbWVyJ3MgdHJhbnNhY3Rpb24gaGlzdG9yeVxuICAgKiBAcGFyYW0ge3N0cmluZz19IGFjY2Vzc1Rva2VuIC0gdGhlIG9hdXRoIGJlYXJlciB0b2tlbi4gIElmIG5vdFxuICAgKiBzcGVjaWZpZWQsIHRoZSBhY2Nlc3NUb2tlbiBvbiB0aGUgb3B0aW9ucyBvYmplY3QgaXMgdXNlZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZyb21EYXRlIC0gZmlsdGVyIHRyYW5zYWN0aW9ucyBhZnRlciB0aGlzIGRhdGUuIEZvcm1hdDogWVlZWS1NTS1ERCAob3B0aW9uYWwsXG4gICAqICAgZGVmYXVsdHMgdG8gbW9zdCByZWNlbnQgMTAwIHRyYW5zYWN0aW9ucylcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvRGF0ZSAtIGZpbHRlciB0cmFuc2FjdGlvbnMgYmVmb3JlIHRoaXMgZGF0ZS4gRm9ybWF0OiBZWVlZLU1NLUREIChvcHRpb25hbCxcbiAgICogICBkZWZhdWx0cyB0byBjdXJyZW50IGRhdGUgaWYgbm90IHByb3ZpZGVkKVxuICAgKiBAcGFyYW0ge3N0cmluZz19IHNvdXJjZSAtIHRoZSB0cmFuc2FjdGlvbiB0eXBlIChlLmcuIGZhc3RlciBwYXltZW50cywgbWFzdGVyY2FyZCkuXG4gICAqIElmIG5vdCBzcGVjaWZpZWQsIHJlc3VsdHMgYXJlIG5vdCBmaWx0ZXJlZCBieSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIGh0dHAgcmVxdWVzdCBwcm9taXNlXG4gICAqL1xuICBnZXRUcmFuc2FjdGlvbnMgKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4sIGZyb21EYXRlLCB0b0RhdGUsIHNvdXJjZSkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uLmdldFRyYW5zYWN0aW9ucyhhY2Nlc3NUb2tlbiwgZnJvbURhdGUsIHRvRGF0ZSwgc291cmNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBmdWxsIGRldGFpbHMgb2YgYSBzaW5nbGUgdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBhY2Nlc3NUb2tlbiAtIHRoZSBvYXV0aCBiZWFyZXIgdG9rZW4uICBJZiBub3RcbiAgICogc3BlY2lmaWVkLCB0aGUgYWNjZXNzVG9rZW4gb24gdGhlIG9wdGlvbnMgb2JqZWN0IGlzIHVzZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2FjdGlvbklkIC0gdGhlIHVuaXF1ZSB0cmFuc2FjdGlvbiBJRFxuICAgKiBAcGFyYW0ge3N0cmluZz19IHNvdXJjZSAtIHRoZSB0cmFuc2FjdGlvbiB0eXBlIChlLmcuIGZhc3RlciBwYXltZW50cywgbWFzdGVyY2FyZCkuXG4gICAqIElmIG5vdCBzcGVjaWZpZWQsIG9ubHkgZ2VuZXJpYyB0cmFuc2FjdGlvbiBpbmZvcm1hdGlvbiB3aWxsIGJlIHJldHVybmVkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBodHRwIHJlcXVlc3QgcHJvbWlzZVxuICAgKi9cbiAgZ2V0VHJhbnNhY3Rpb24gKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4sIHRyYW5zYWN0aW9uSWQsIHNvdXJjZSkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uLmdldFRyYW5zYWN0aW9uKGFjY2Vzc1Rva2VuLCB0cmFuc2FjdGlvbklkLCBzb3VyY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1c3RvbWVyJ3MgY3VycmVudCBkaXJlY3QtZGViaXQgbWFuZGF0ZXNcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBhY2Nlc3NUb2tlbiAtIHRoZSBvYXV0aCBiZWFyZXIgdG9rZW4uICBJZiBub3RcbiAgICogc3BlY2lmaWVkLCB0aGUgYWNjZXNzVG9rZW4gb24gdGhlIG9wdGlvbnMgb2JqZWN0IGlzIHVzZWQuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIGh0dHAgcmVxdWVzdCBwcm9taXNlXG4gICAqL1xuICBsaXN0TWFuZGF0ZXMgKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5tYW5kYXRlLmxpc3RNYW5kYXRlcyhhY2Nlc3NUb2tlbik7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBzcGVjaWZpYyBkaXJlY3QgZGViaXQgbWFuZGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzVG9rZW4gLSB0aGUgb2F1dGggYmVhcmVyIHRva2VuLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWFuZGF0ZUlkIC0gdGhlIHVuaXF1ZSBtYW5kYXRlIElEXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIGh0dHAgcmVxdWVzdCBwcm9taXNlXG4gICAqL1xuICBkZWxldGVNYW5kYXRlIChhY2Nlc3NUb2tlbiA9IHRoaXMuY29uZmlnLmFjY2Vzc1Rva2VuLCBtYW5kYXRlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5tYW5kYXRlLmRlbGV0ZU1hbmRhdGUoYWNjZXNzVG9rZW4sIG1hbmRhdGVJZCk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgdGhlIGN1c3RvbWVyJ3Mgc2NoZWR1bGVkIHBheW1lbnRzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY2Nlc3NUb2tlbiAtIHRoZSBvYXV0aCBiZWFyZXIgdG9rZW4uXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIGh0dHAgcmVxdWVzdCBwcm9taXNlXG4gICAqL1xuICBsaXN0U2NoZWR1bGVkUGF5bWVudHMgKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5wYXltZW50Lmxpc3RTY2hlZHVsZWRQYXltZW50cyhhY2Nlc3NUb2tlbik7XG4gIH1cblxuICAvKipcbiAgICogTWFrZXMgYSBwYXltZW50IG9uIGJlaGFsZiBvZiB0aGUgY3VzdG9tZXIgdG8gYW5vdGhlciBVSyBiYW5rIGFjY291bnQgdXNpbmcgdGhlIEZhc3RlciBQYXltZW50cyBuZXR3b3JrXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY2Nlc3NUb2tlbiAtIHRoZSBvYXV0aCBiZWFyZXIgdG9rZW4uXG4gICAqICBAcGFyYW0ge3N0cmluZ30gZGVzdGluYXRpb25BY2NvdW50VWlkIC0gdGhlIGFjY291bnQgaWRlbnRpZmllciBvZiB0aGUgcmVjaXBpZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWZlcmVuY2UgLSBUaGUgcGF5bWVudCByZWZlcmVuY2UsIG1heC4gMTggY2hhcmFjdGVycy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGFtb3VudCAtIHRoZSBhbW91bnQgdG8gYmUgc2VuZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBjdXJyZW5jeSAtIHRoZSBjdXJyZW5jeSwgb3B0aW9uYWwsIGRlZmF1bHRzIHRvIFwiR0JQXCIuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIGh0dHAgcmVxdWVzdCBwcm9taXNlXG4gICAqL1xuICBtYWtlTG9jYWxQYXltZW50IChhY2Nlc3NUb2tlbiA9IHRoaXMuY29uZmlnLmFjY2Vzc1Rva2VuLCBkZXN0aW5hdGlvbkFjY291bnRVaWQsIHJlZmVyZW5jZSwgYW1vdW50LCBjdXJyZW5jeSA9ICdHQlAnKSB7XG4gICAgcmV0dXJuIHRoaXMucGF5bWVudC5tYWtlTG9jYWxQYXltZW50KGFjY2Vzc1Rva2VuLCBkZXN0aW5hdGlvbkFjY291bnRVaWQsIHJlZmVyZW5jZSwgYW1vdW50LCBjdXJyZW5jeSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VzdG9tZXIncyBjb250YWN0cyAocGF5ZWVzKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzVG9rZW4gLSB0aGUgb2F1dGggYmVhcmVyIHRva2VuLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBodHRwIHJlcXVlc3QgcHJvbWlzZVxuICAgKi9cbiAgZ2V0Q29udGFjdHMgKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5jb250YWN0LmdldENvbnRhY3RzKGFjY2Vzc1Rva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgc3BlY2lmaWMgY29udGFjdCAocGF5ZWUpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY2Nlc3NUb2tlbiAtIHRoZSBvYXV0aCBiZWFyZXIgdG9rZW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWN0SWQgLSB0aGUgY29udGFjdCdzIElELlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBodHRwIHJlcXVlc3QgcHJvbWlzZVxuICAgKi9cbiAgZ2V0Q29udGFjdEFjY291bnQgKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4sIGNvbnRhY3RJZCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRhY3QuZ2V0Q29udGFjdEFjY291bnQoYWNjZXNzVG9rZW4sIGNvbnRhY3RJZCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNvbnRhY3QgKHBheWVlKSBmb3IgdGhlIGN1c3RvbWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY2Nlc3NUb2tlbiAtIHRoZSBvYXV0aCBiZWFyZXIgdG9rZW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdGhlIG5hbWUgb2YgdGhlIG5ldyBjb250YWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZz19IGFjY291bnRUeXBlIC0gdGhlIGFjY291bnQgdHlwZSAoZG9tZXN0aWMgb3IgaW50ZXJuYXRpb25hbCksIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0b1xuICAgKiAgIFVLX0FDQ09VTlRfQU5EX1NPUlRfQ09ERS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjY291bnROdW1iZXIgLSB0aGUgY29udGFjdCdzIGJhbmsgYWNjb3VudCBudW1iZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0Q29kZSAtIHRoZSBjb250YWN0J3Mgc29ydCBjb2RlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY3VzdG9tZXJJZCAtIHRoZSBjdXN0b21lcidzIElELlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBodHRwIHJlcXVlc3QgcHJvbWlzZVxuICAgKi9cbiAgY3JlYXRlQ29udGFjdCAoYWNjZXNzVG9rZW4gPSB0aGlzLmNvbmZpZy5hY2Nlc3NUb2tlbiwgbmFtZSwgYWNjb3VudFR5cGUgPSAnVUtfQUNDT1VOVF9BTkRfU09SVF9DT0RFJywgYWNjb3VudE51bWJlciwgc29ydENvZGUsIGN1c3RvbWVySWQpIHtcbiAgICByZXR1cm4gdGhpcy5jb250YWN0LmNyZWF0ZUNvbnRhY3QoYWNjZXNzVG9rZW4sIG5hbWUsIGFjY291bnRUeXBlLCBhY2NvdW50TnVtYmVyLCBzb3J0Q29kZSwgY3VzdG9tZXJJZCk7XG4gIH1cblxuICBkZWxldGVDb250YWN0IChhY2Nlc3NUb2tlbiwgY29udGFjdElkKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGFjdC5kZWxldGVDb250YWN0KGFjY2Vzc1Rva2VuLCBjb250YWN0SWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBsaXN0IG9mIHRoZSBjdXN0b21lcidzIHNhdmluZ3MgZ29hbHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjY2Vzc1Rva2VuIC0gdGhlIG9hdXRoIGJlYXJlciB0b2tlbi5cbiAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgaHR0cCByZXF1ZXN0IHByb21pc2VcbiAgICovXG4gIGxpc3RTYXZpbmdzR29hbHMgKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5zYXZpbmdzR29hbHMubGlzdFNhdmluZ3NHb2FscyhhY2Nlc3NUb2tlbik7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIHNwZWNpZmljIHNhdmluZ3MgZ29hbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzVG9rZW4gLSB0aGUgb2F1dGggYmVhcmVyIHRva2VuLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2F2aW5nc0dvYWxJZCAtIHRoZSBzYXZpbmdzIGdvYWwncyBJRC5cbiAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgaHR0cCByZXF1ZXN0IHByb21pc2VcbiAgICovXG4gIGdldFNhdmluZ3NHb2FsIChhY2Nlc3NUb2tlbiA9IHRoaXMuY29uZmlnLmFjY2Vzc1Rva2VuLCBzYXZpbmdzR29hbElkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2F2aW5nc0dvYWxzLmdldFNhdmluZ3NHb2FsKGFjY2Vzc1Rva2VuLCBzYXZpbmdzR29hbElkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY29udGFjdCAocGF5ZWUpIGZvciB0aGUgY3VzdG9tZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjY2Vzc1Rva2VuIC0gdGhlIG9hdXRoIGJlYXJlciB0b2tlbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNhdmluZ3NHb2FsSWQgLSB0aGUgc2F2aW5ncyBnb2FsJ3MgSUQsIGdlbmVyYXRlIG9uZSBpZiBjcmVhdGluZyBhIGdvYWwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdGhlIG5hbWUgb2YgdGhlIG5ldyBjb250YWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY3VycmVuY3kgLSB0aGUgY3VycmVuY3kgb2YgdGhlIHNhdmluZ3MgZ29hbC4gRGVmYXVsdHMgdG8gJ0dCUCcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRBbW91bnQgLSB0aGUgdGFyZ2V0IGFtb3VudCBpbiBtaW5vciB1bml0cyAoZS5nLiAxMjM0ID0+IMKjMTIuMzQpLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0Q3VycmVuY3kgLSB0aGUgdGFyZ2V0IGN1cnJlbmN5LCBhbHNvIGRlZmF1bHRzIHRvICdHQlAnLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZTY0RW5jb2RlZFBob3RvIC0gYmFzZTY0IGVuY29kZWQgaW1hZ2UgdG8gYXNzb2NpYXRlIHdpdGggdGhlIGdvYWwuIChvcHRpb25hbClcbiAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgaHR0cCByZXF1ZXN0IHByb21pc2VcbiAgICovXG4gIGNyZWF0ZVNhdmluZ3NHb2FsIChhY2Nlc3NUb2tlbiA9IHRoaXMuY29uZmlnLmFjY2Vzc1Rva2VuLCBzYXZpbmdzR29hbElkLCBuYW1lLCBjdXJyZW5jeSA9ICdHQlAnLCAgdGFyZ2V0QW1vdW50LCB0YXJnZXRDdXJyZW5jeSA9ICdHQlAnLCBiYXNlNjRFbmNvZGVkUGhvdG8pIHtcbiAgICByZXR1cm4gdGhpcy5zYXZpbmdzR29hbHMuY3JlYXRlU2F2aW5nc0dvYWwoYWNjZXNzVG9rZW4sIHNhdmluZ3NHb2FsSWQsIG5hbWUsIGN1cnJlbmN5LCAgdGFyZ2V0QW1vdW50LCB0YXJnZXRDdXJyZW5jeSwgYmFzZTY0RW5jb2RlZFBob3RvKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIHNwZWNpZmljIGRpcmVjdCBkZWJpdCBtYW5kYXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY2Nlc3NUb2tlbiAtIHRoZSBvYXV0aCBiZWFyZXIgdG9rZW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzYXZpbmdzR29hbElkIC0gdGhlIHVuaXF1ZSBtYW5kYXRlIElEXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIGh0dHAgcmVxdWVzdCBwcm9taXNlXG4gICAqL1xuICBkZWxldGVTYXZpbmdzR29hbCAoYWNjZXNzVG9rZW4sIHNhdmluZ3NHb2FsSWQpIHtcbiAgICByZXR1cm4gdGhpcy5zYXZpbmdzR29hbHMuZGVsZXRlU2F2aW5nc0dvYWwoYWNjZXNzVG9rZW4sIHNhdmluZ3NHb2FsSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1c3RvbWVyJ3MgY2FyZFxuICAgKiBAcGFyYW0ge3N0cmluZz19IGFjY2Vzc1Rva2VuIC0gdGhlIG9hdXRoIGJlYXJlciB0b2tlbi4gIElmIG5vdFxuICAgKiBzcGVjaWZpZWQsIHRoZSBhY2Nlc3NUb2tlbiBvbiB0aGUgb3B0aW9ucyBvYmplY3QgaXMgdXNlZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgaHR0cCByZXF1ZXN0IHByb21pc2VcbiAgICovXG4gIGdldENhcmQgKGFjY2Vzc1Rva2VuID0gdGhpcy5jb25maWcuYWNjZXNzVG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5jYXJkLmdldENhcmQoYWNjZXNzVG9rZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4Y2hhbmdlcyB0aGUgYXV0aG9yaXphdGlvbiBjb2RlIGZvciBhbiBhY2Nlc3MgdG9rZW5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGF1dGhvcml6YXRpb25Db2RlIC0gdGhlIGF1dGhvcml6YXRpb24gY29kZSwgYWNxdWlyZWQgZnJvbSB0aGUgdXNlciBhZ2VudCBhZnRlciB0aGVcbiAgICogdXNlciBhdXRoZW50aWNhdGVzIHdpdGggc3RhcmxpbmdcbiAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgaHR0cCByZXF1ZXN0IHByb21pc2VcbiAgICovXG4gIGdldEFjY2Vzc1Rva2VuIChhdXRob3JpemF0aW9uQ29kZSkge1xuICAgIHJldHVybiB0aGlzLm9BdXRoLmdldEFjY2Vzc1Rva2VuKGF1dGhvcml6YXRpb25Db2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGNoYW5nZXMgdGhlIGF1dGhvcml6YXRpb24gY29kZSBmb3IgYW4gYWNjZXNzIHRva2VuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWZyZXNoVG9rZW4gLSB0aGUgb2F1dGggcmVmcmVzaCB0b2tlbiwgdXNlZCB0byBjbGFpbSBhIG5ldyBhY2Nlc3MgdG9rZW4gd2hlbiB0aGUgYWNjZXNzIHRva2VuXG4gICAqIGV4cGlyZXMuIEEgbmV3IHJlZnJlc2ggdG9rZW4gaXMgYWxzbyByZXR1cm5lZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgaHR0cCByZXF1ZXN0IHByb21pc2VcbiAgICovXG4gIHJlZnJlc2hBY2Nlc3NUb2tlbiAocmVmcmVzaFRva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMub0F1dGgucmVmcmVzaEFjY2Vzc1Rva2VuKHJlZnJlc2hUb2tlbik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTdGFybGluZztcbiJdfQ==
//# sourceMappingURL=starling.js.map
